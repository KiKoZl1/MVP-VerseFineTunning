---
id: 16
title: 16. Players & Characters in Verse — Safe Access and Common Actions
tags: [verse, players, characters, gameplay, access-patterns]
summary: How to retrieve players and characters safely, then perform common actions like printing health, applying damage, and healing.
---

# Players & Characters — Safe Access & Actions

Two core ideas: **players** (accounts in the session) and their **characters** (pawns/avatars). Access them safely with failure contexts and keep effects last.

---

## 1) Getting Players

```verse
Playspace := GetPlayspace()
Players   := Playspace.GetPlayers()
```

- Treat `Players` as a list. Use `Players.Length` and safe indexing in `if` blocks.

---

## 2) From Player to Character

```verse
if (P : player = Players[0]):
    if (Char : fort_character = P.GetFortCharacter[]):
        Print("HP: {Char.GetHealth()}")
```

- Nest `if` blocks to progressively **narrow** values.
- If any step fails, nothing inside commits.

---

## 3) Common Actions

```verse
DamageFirstPlayer(Amount : float) : void =
    if (P : player = Players[0]):
        if (Char : fort_character = P.GetFortCharacter[]):
            Char.Damage(Amount)

HealFirstPlayer(Amount : float) : void =
    if (P : player = Players[0]):
        if (Char : fort_character = P.GetFortCharacter[]):
            Char.Heal(Amount)
```

- Place side effects at the **bottom** of the success path.

---

## 4) Logging for Observability

```verse
if (P : player = Players[0]):
    if (Char : fort_character = P.GetFortCharacter[]):
        Before := Char.GetHealth()
        Char.Damage(20.0)
        After  := Char.GetHealth()
        Print("HP before={Before}, after={After}")
```

- Short prints help debugging and model learning.

---

## 5) Positive vs. Negative Access

**Good**
```verse
if (P : player = Players[0]):
    if (Char : fort_character = P.GetFortCharacter[]):
        Char.Heal(5.0)
```

**Poor**
```verse
Players[0].GetFortCharacter().Heal(5.0)   # assumes everything exists; no guards
```

---

## 6) Finetuning Notes (LLM)

- Use the same names (`P`, `Char`) to stabilize patterns.
- Pair a successful access with a skipped path (no players yet).
- Keep helpers (heal/damage) small and single-purpose.
