---
id: 15
title: 15. Strings & Structured Logging in Verse
tags: [verse, strings, logging, diagnostics]
summary: How to build structured log lines, convert enums to strings, and avoid noisy prints in Verse gameplay code.
---

# Strings & Structured Logging

Logs are the fastest way to verify runtime behavior inside UEFN. This page standardizes how to format strings, convert values, and keep log noise under control.

---

## 1) `string` vs. `message`

- Use `message` when the text must appear in UI or requires localization.  
- Use `string` for logs and debug output. Convert via helper functions so messages stay consistent.

```verse
ToStatusString(Status : loot_status) : string =
    if (Status == loot_status.Ready):
        return "ready"
    if (Status == loot_status.Open):
        return "open"
    return "unknown"
```

---

## 2) Structured Log Format

- Prefix every line with a short tag (`[Loot]`, `[Player]`).  
- Use `key=value` pairs so QA can grep easily.

**Good**
```verse
Print("[Loot] drop player={Player} table={TableId} rarity={Rarity}")
```

**Poor**
```verse
Print("Loot drop happened!!!")
```

---

## 3) Helper Functions

- Wrap repeated formatting in helpers rather than scattering `Print` calls.

```verse
LogCooldown(Player : player, SkillId : string, Seconds : float) : void =
    Print("[Skill] cooldown player={Player} skill={SkillId} seconds={Seconds}")
```

- Inject helpers into debug devices so every interaction prints the same shape.

---

## 4) Rate Limiting

- Avoid logging inside tight loops without sampling.  
- Use counters to throttle messages.

```verse
LogEveryNth(N : int, Counter : int, Message : string) : void =
    if (Counter % N == 0):
        Print(Message)
```

- Reset counters when the owning device shuts down to avoid overflow.

---

## 5) Positive vs. Negative Example

**Good**
```verse
AwardXP(Player : player, Amount : int) : void =
    Print("[XP] award player={Player} amount={Amount}")
    GiveXP(Player, Amount)
```

**Poor**
```verse
AwardXP(Player : player, Amount : int) : void =
    GiveXP(Player, Amount)
    Print(Player)  # meaningless output
```

---

## Finetuning Notes (LLM)

- Encourage small helper functions and reuse of `[Tag] key=value` style strings.  
- Separate UI text (`message`) from debug strings to avoid localization mishaps.  
- Demonstrate throttling to keep loops from spamming logs.  
- Always show a concrete before/after example so the contrast is clear to the model.
