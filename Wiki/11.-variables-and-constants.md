---
id: 11
title: 11. Variables & Constants in Verse — Initialization, Mutation, and Scope
tags: [verse, variables, constants, assignment, scope]
summary: How to declare and initialize values, mutate state safely, and structure scope so Verse code is clear and predictable.
---

# Variables & Constants in Verse

This page unifies how to **declare**, **initialize**, and **mutate** values in Verse, plus how **scope** affects readability and safety.

---

## 1) Declaration & Initialization (:=)

Use `:=` to **bind** a name to a value (initialization).

```verse
MoveThreshold : float = 10000.0   # file-level design constant
Coins         : int   = 100       # file-level state (avoid when possible)

OnBegin<override>() : void =
    Playspace := GetPlayspace()   # local initialization
    Players   := Playspace.GetPlayers()
```

- Prefer local variables over globals.
- Keep file-level **design constants** near the top (often with `@editable`).

---

## 2) Mutation with `set`

Use `set` to **update** an existing variable’s value.

```verse
SpendCoins(Amount : int) : void =
    if (Amount <= 0):
        return
    set Coins = Coins - Amount
```

- Use **early returns** to guard invalid writes.
- Use **descriptive names** (`Amount`, `Coins`) for clarity.

---

## 3) Scope: Local vs. File-Level

- **Local** variables live inside a function; they’re discarded when it returns.
- **File-level** values are visible to functions in the same file; prefer them for **constants**, not for mutable state.

Avoid **shadowing** (reusing a name in an inner scope that hides an outer one).

**Avoid**:
```verse
Coins : int = 100

SpendCoins(Coins : int) : void =  # BAD: shadows file-level Coins
    # ...
```

**Prefer**:
```verse
Coins : int = 100

SpendCoins(Amount : int) : void =
    set Coins = Coins - Amount
```

---

## 4) Booleans and Flags

Use `logic` with a `?` suffix in names when a variable encodes a question.

```verse
CanUseAbility? : logic = true

UseAbility() : void =
    if (CanUseAbility?):
        # perform action
        set CanUseAbility? = false
```

- Pair flag writes with clear **timing** or **cooldown** logic (see Concurrency).

---

## 5) Numeric & Text Values

```verse
DamageAmount : float = 20.0
PlayerName   : string = "Player1"
```

Guidelines
- Make **units** explicit (e.g., `Seconds`, `Meters`, `Amount`).
- Prefer **constants** for design values; pass them into functions as parameters.

---

## 6) Positive vs. Negative Examples

**Good**
```verse
@editable
CoinsPerMousetrap : int = 100

HurtFirstPlayer(Amount : float) : void =
    if (Char : fort_character = TryGetFirstCharacter[]):
        Char.Damage(Amount)
```

**Poor**
```verse
CoinsPerMousetrap := 100    # implicit type; hard to scan
HurtFirstPlayer(a) : void = # vague parameter name and compressed body
    if (c = TryGetFirstCharacter[]): c.Damage(a)
```

---

## 7) Finetuning Notes (LLM)

- Separate **initialization** (`:=`) from **mutation** (`set`).
- Prefer local variables and explicit units in names.
- Include guards and early-returns around mutations.
