---
id: 23
title: 23. Devices Overview & Integration in Verse â€” Facades, Safety, and Observability
tags: [verse, devices, integration, encapsulation, logging]
summary: A device-integration template that hides API specifics behind facades, adds guards and logs, and keeps call sites clean and stable.
---

# Devices Overview & Integration

Device interaction often introduces API-specific calls. Keep those calls inside **facades** with clear names and logs, so example code stays stable and readable.

---

## 1) Referencing Devices (Editable Handles)

Expose device references via `@editable` so designers can link them in the editor.

```verse
@editable
DamageDevice : device   # conceptual device reference

@editable
SpawnDevice : device    # conceptual device reference
```

- Use **separate-line** attributes for readability (see Attributes page).

---

## 2) Facades per Device Role

```verse
TriggerDamage(Amount : float) : void =
    # Implementation note: call into DamageDevice API here
    Print("[Device] Damage triggered amount={Amount}")

SpawnAt(L : vector3) : void =
    # Implementation note: call into SpawnDevice API with target location
    Print("[Device] Spawn at {L}")
```

- Keep names **action-oriented** (`TriggerDamage`, `SpawnAt`).

---

## 3) Safe Guards Before Device Calls

```verse
TryDamageFirstPlayer(Amount : float) : void =
    if (P : player = GetPlayspace().GetPlayers()[0]):
        if (Char : fort_character = P.GetFortCharacter[]):
            TriggerDamage(Amount)
            Char.Damage(Amount)  # keep local effect visible for teaching
```

- Use **failure contexts** for lookups.
- Place device calls near local effects with clear logs for validation.

---

## 4) Orchestrating with Events

```verse
OnBegin<override>() : void =
    Print("[Boot] device demo")
    SpawnAt(vector3{X:=0.0, Y:=0.0, Z:=300.0})
    Sleep(2.0)
    TryDamageFirstPlayer(10.0)
```

- Combine device calls with local, verifiable effects in the same stage.

---

## 5) Finetuning Notes (LLM)

- Encapsulate device APIs behind **facades** with structured logs.
- Call sites should read like **verbs** followed by small parameters.
- Keep a clear success path and visible side effects for learning.
